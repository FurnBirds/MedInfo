<!DOCTYPE html>
<html lang="en">

<head>
  <title>Information Form</title>
  <link rel="stylesheet" href="style.css">
  <script defer src="./dataops.js"></script>
</head>

<body>
  
  <div class="Base">
    <h1>Search / Add / Edit Patient Details</h1> 

    <div class="grid-container">

      <div>
        <div><button id="refreshButton">Refresh Data</button></div>
        <table id="profileTable">
          <tr>
            <th>ID</th>
            <th class = "names">Last Name</th>
            <th class = "names">First Name</th>
            <th class = "ptGender">Gender</th>
            <th class = "ptDOB">Date of Birth</th>
            <th class = "ptOccupation">Occupation</th>
            <th class = "ptBP">Blood Pressure</th>
            <th class = "ptCondition">Condition</th>
          </tr>

        </table>
      </div>

      <div id="profileCard">
        <div><button id="newButton">New Patient Data</button></div>
        <H4 id="idDisplay">ID: (New Patient Profile)</H4>
        <label for="fname" class="flabel">First name:</label><br>
        <input type="text" class="valueInput" id="fname" name="fname">
        <br><br>
        <label for="lname" class="flabel">Last name:</label><br>
        <input type="text" class="valueInput" id="lname" name="lname">
        <br><br>
        <H4>Demographics:</H4>
        <input type="radio" class="checkInput" id="Male" name="Gender" value=1>
        <label for="Male" class="flabel">Male</label>
        <input type="radio" class="checkInput" id="Female" name="Gender" value=0>
        <label for="Female" class="flabel">Female</label>
        <input type="radio" class="checkInput" id="Other" name="Gender" value=9>
        <label for="Other" class="flabel">Other</label>
        <br><br>
        <label for="birthdate" class="flabel">Birth Date:</label><br>
        <input type="date" class="valueInput" id="birthdate" name="birthdate">
        <br><br>
        <label for="occupation" class="occupation">Occupation:</label><br>
        <input type="text" class="valueInput" id="occupation" name="occupation">
        <br><br>
        <H4>Medical Information:</H4>
        <label for="Systolic" class="flabel">Blood Pressure:</label><br>
        <input type="number" class="valueInput" id="systol" name="systol"> / 
        <input type="number" class="valueInput" id="diastol" name="diastol">
        <br><br>
        <label for="condition" class="flabel">Condition:</label><br>
        <textarea type="text" class="valueInput" id="condition" name="condition" rows="8" col="100"></textarea>
        <!-- <input type="text" wrap="" id="condition" name="condition"> -->
        <br><br>
        <button id="saveButton">Save</button>
      </div>

    </div>
    
  <script>
    function myFunction() {
      document.getElementById("FirstName").innerText = document.getElementById("fname").value;
      document.getElementById("LastName").innerText = document.getElementById("lname").value;

      var radioButtons = document.getElementsByName("Gender");
      //for looping each radio item for Gender
      for (var i = 0; i < radioButtons.length; i++) {
        //if a radio button is selected, the id is set into variable GenderResult
        if (radioButtons[i].checked) {
          var GenderResult = radioButtons[i].id;
          break;
        }
      }
      document.getElementById("GenderID").innerText = GenderResult;

      //the birthdate is formatted to d/m/yyyy by breaking up the day month year into components
      var BDunformatted = document.getElementById("birthdate").value;
      const currentDate = new Date(BDunformatted);
      const day = currentDate.getDate();
      const month = currentDate.getMonth() + 1; // Months are zero-based
      const year = currentDate.getFullYear();

      //birthdate components are reassembled into day month year
      const formattedDate = `${day}/${month}/${year}`;
      document.getElementById("BirthDateResult").innerHTML = formattedDate

    }
  </script>

</div>
</body>

</html>